var __awaiter=this&&this.__awaiter||function(t,s,o,c){return new(o=o||Promise)(function(n,e){function a(t){try{i(c.next(t))}catch(t){e(t)}}function r(t){try{i(c.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?n(t.value):((e=t.value)instanceof o?e:new o(function(t){t(e)})).then(a,r)}i((c=c.apply(t,s||[])).next())})};class SearchIndexManager{constructor(){this.pageTexts=new Map}extractPageText(e,n){return __awaiter(this,void 0,void 0,function*(){var t;this.pageTexts.has(e)||(t=(yield n.getTextContent()).items.map(t=>t.str.trim()).filter(t=>0<t.length).join(" "),this.pageTexts.set(e,t))})}getPageText(t){return this.pageTexts.get(t)}getAllPageNumbers(){return Array.from(this.pageTexts.keys())}}export default new SearchIndexManager;