var __awaiter=this&&this.__awaiter||function(t,s,o,c){return new(o=o||Promise)(function(a,e){function n(t){try{i(c.next(t))}catch(t){e(t)}}function r(t){try{i(c.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?a(t.value):((e=t.value)instanceof o?e:new o(function(t){t(e)})).then(n,r)}i((c=c.apply(t,s||[])).next())})};class SearchIndexManager{constructor(){this._pageTexts=new Map}extractPageText(e,a){return __awaiter(this,void 0,void 0,function*(){var t;this._pageTexts.has(e)||(t=(yield a.getTextContent()).items.map(t=>t.str.trim()).filter(t=>0<t.length).join(" "),this._pageTexts.set(e,t))})}getPageText(t){return this._pageTexts.get(t)}getAllPageNumbers(){return Array.from(this._pageTexts.keys())}}export default SearchIndexManager;