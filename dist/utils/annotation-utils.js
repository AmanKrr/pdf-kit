import{INNER_PADDING_PX}from"../constants/geometry-constants";function toShapeAnnos(e,t){return e.map(e=>_convertOne(e,t))}function _convertOne(e,t){switch(e.type){case"rectangle":return _rectToShape(e,t);case"ellipse":return _ellipseToShape(e,t);case"line":return _lineToShape(e,t);default:throw new Error("Unknown annotation type: "+e.type)}}function _rectToShape(e,t){var o=e.x0*t,r=INNER_PADDING_PX*t;return{page:e.pageNumber,kind:"rectangle",x:o+r,y:e.y0*t+r,width:e.x1*t-2*r,height:e.y1*t-2*r,stroke:null!=(o=e.strokeColor)?o:"#000000",fill:e.fillColor,strokeWidth:null!=(t=e.strokeWidth)?t:1,opacity:e.opacity}}function _ellipseToShape(e,t){var o=e.cx*t,r=e.rx*t,n=e.ry*t;return{page:e.pageNumber,kind:"ellipse",x:o-r,y:e.cy*t-n,width:2*r,height:2*n,stroke:null!=(o=e.strokeColor)?o:"#000000",fill:e.fillColor,strokeWidth:null!=(t=e.strokeWidth)?t:1,opacity:e.opacity}}function _lineToShape(e,t){return{page:e.pageNumber,kind:"line",x1:e.x1*t,y1:e.y1*t,x2:e.x2*t,y2:e.y2*t,stroke:null!=(t=e.strokeColor)?t:"#000000",strokeWidth:null!=(t=e.strokeWidth)?t:1,opacity:e.opacity}}let COLOR_NAME_TO_HEX={black:"#000000",silver:"#C0C0C0",gray:"#808080",white:"#FFFFFF",maroon:"#800000",red:"#FF0000",purple:"#800080",fuchsia:"#FF00FF",green:"#008000",lime:"#00FF00",olive:"#808000",yellow:"#FFFF00",navy:"#000080",blue:"#0000FF",teal:"#008080",aqua:"#00FFFF"};function normalizeColor(e){if(e){var t=e.toLowerCase();if("transparent"!==t)return COLOR_NAME_TO_HEX[t]||(/^#?([a-f\d]{3}|[a-f\d]{6})$/i.test(t)?t.startsWith("#")?t:"#"+t:void console.warn(`Unsupported color format: "${e}". Treating as transparent/default.`))}}export{toShapeAnnos,normalizeColor};